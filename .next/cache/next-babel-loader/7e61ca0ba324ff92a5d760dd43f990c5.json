{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport useSWR from 'swr';\nimport { BLOCKS, MARKS } from '@contentful/rich-text-types';\nimport { documentToReactComponents } from '@contentful/rich-text-react-renderer';\n\nconst fetcher = async url => {\n  try {\n    const response = await fetch(url);\n    return await response.json();\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nexport const usePageContent = (url, page) => {\n  _s();\n\n  let obj = {};\n  const {\n    data,\n    error\n  } = useSWR(`${url}&content_type=pageContent&fields.page[in]=${page}`, fetcher);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n\n  if (!data && !loading) {\n    setLoading(true);\n  } else if (data && loading) {\n    setLoading(false);\n  }\n\n  if (!loading) {\n    const {\n      title,\n      subtitle,\n      body: bodyObj,\n      button,\n      buttonLink,\n      buttonText\n    } = data.items[0].fields;\n    const body = documentToReactComponents(bodyObj);\n    obj = {\n      title,\n      subtitle,\n      body,\n      button,\n      buttonLink,\n      buttonText,\n      error\n    };\n  }\n\n  return obj;\n};\n\n_s(usePageContent, \"Xc0l8PxyR+r6bAsd2q0s8z9GJH4=\", false, function () {\n  return [useSWR];\n});","map":{"version":3,"sources":["/Users/ml/dev/stellar/site/hooks/usePageContent.js"],"names":["useState","useSWR","BLOCKS","MARKS","documentToReactComponents","fetcher","url","response","fetch","json","err","console","error","usePageContent","page","obj","data","loading","setLoading","title","subtitle","body","bodyObj","button","buttonLink","buttonText","items","fields"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,MAAP,MAAmB,KAAnB;AACA,SAASC,MAAT,EAAiBC,KAAjB,QAA8B,6BAA9B;AACA,SAASC,yBAAT,QAA0C,sCAA1C;;AAEA,MAAMC,OAAO,GAAG,MAAMC,GAAN,IAAa;AAC3B,MAAI;AACF,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,CAA5B;AACA,WAAO,MAAMC,QAAQ,CAACE,IAAT,EAAb;AACD,GAHD,CAGE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD;AACF,CAPD;;AASA,OAAO,MAAMG,cAAc,GAAG,CAACP,GAAD,EAAMQ,IAAN,KAAe;AAAA;;AAC3C,MAAIC,GAAG,GAAG,EAAV;AAEA,QAAM;AAAEC,IAAAA,IAAF;AAAQJ,IAAAA;AAAR,MAAkBX,MAAM,CAC3B,GAAEK,GAAI,6CAA4CQ,IAAK,EAD5B,EAE5BT,OAF4B,CAA9B;AAIA,QAAM;AAAA,OAACY,OAAD;AAAA,OAAUC;AAAV,MAAwBlB,QAAQ,CAAC,IAAD,CAAtC;;AACA,MAAI,CAACgB,IAAD,IAAS,CAACC,OAAd,EAAuB;AACrBC,IAAAA,UAAU,CAAC,IAAD,CAAV;AACD,GAFD,MAEO,IAAIF,IAAI,IAAIC,OAAZ,EAAqB;AAC1BC,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD;;AACD,MAAI,CAACD,OAAL,EAAc;AACZ,UAAM;AAAEE,MAAAA,KAAF;AAASC,MAAAA,QAAT;AAAmBC,MAAAA,IAAI,EAAEC,OAAzB;AAAkCC,MAAAA,MAAlC;AAA0CC,MAAAA,UAA1C;AAAsDC,MAAAA;AAAtD,QAAqET,IAAI,CAACU,KAAL,CAAW,CAAX,EAAcC,MAAzF;AACA,UAAMN,IAAI,GAAGjB,yBAAyB,CAACkB,OAAD,CAAtC;AACAP,IAAAA,GAAG,GAAG;AAAEI,MAAAA,KAAF;AAASC,MAAAA,QAAT;AAAmBC,MAAAA,IAAnB;AAAyBE,MAAAA,MAAzB;AAAiCC,MAAAA,UAAjC;AAA6CC,MAAAA,UAA7C;AAAyDb,MAAAA;AAAzD,KAAN;AACD;;AACD,SAAOG,GAAP;AACD,CAnBM;;GAAMF,c;UAGaZ,M","sourcesContent":["import { useState } from 'react';\nimport useSWR from 'swr';\nimport { BLOCKS, MARKS } from '@contentful/rich-text-types';\nimport { documentToReactComponents } from '@contentful/rich-text-react-renderer';\n\nconst fetcher = async url => {\n  try {\n    const response = await fetch(url);\n    return await response.json();\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nexport const usePageContent = (url, page) => {\n  let obj = {};\n\n  const { data, error } = useSWR(\n    `${url}&content_type=pageContent&fields.page[in]=${page}`,\n    fetcher,\n  );\n  const [loading, setLoading] = useState(true);\n  if (!data && !loading) {\n    setLoading(true);\n  } else if (data && loading) {\n    setLoading(false);\n  }\n  if (!loading) {\n    const { title, subtitle, body: bodyObj, button, buttonLink, buttonText } = data.items[0].fields;\n    const body = documentToReactComponents(bodyObj);\n    obj = { title, subtitle, body, button, buttonLink, buttonText, error };\n  }\n  return obj;\n};\n"]},"metadata":{},"sourceType":"module"}