{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _s = $RefreshSig$(),\n    _jsxFileName = \"/Users/ml/dev/stellar/site/pages/cloud.js\",\n    _s2 = $RefreshSig$(),\n    _s5 = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as React from 'react';\nimport { useRecoilState } from 'recoil';\nimport { useEffect, useRef, forwardRef } from 'react';\nimport useSWR from 'swr';\nimport { Box, Flex, Grid, Heading, Text } from '@chakra-ui/core';\nimport { useColorMode, useTheme } from '../context';\nimport { USMap } from '../components/USMap';\nimport { VMware } from '../components/Icons';\nimport { Link } from '../components/Link';\nimport { Br, Button } from '../components';\nimport { useActiveSection, usePageContent } from '../hooks';\nimport { _headerStyle } from '../state/atoms';\nimport { includes } from 'lodash';\nconst heroBtn1Variant = {\n  dark: 'light',\n  light: 'primary'\n};\nconst headerBg = {\n  dark: 'transparent',\n  light: 'original.light'\n};\nconst sect1Bg = {\n  dark: 'original.dark',\n  light: 'original.light'\n};\nconst sect1Text = {\n  dark: 'original.light',\n  light: 'original.dark'\n};\nconst sect1BtnText = {\n  dark: 'original.light',\n  light: 'original.dark'\n};\nconst sect2Bg = {\n  dark: 'original.dark',\n  light: 'original.tertiary'\n};\nconst sect2Text = {\n  dark: 'original.light',\n  light: 'original.dark'\n};\nconst sect3Bg = {\n  dark: 'original.dark',\n  light: 'original.primary'\n};\nconst sect3Text = {\n  dark: 'original.light',\n  light: 'original.light'\n};\nconst sect4Bg = {\n  dark: 'original.dark',\n  light: 'original.secondary'\n};\nconst sect4Text = {\n  dark: 'original.light',\n  light: 'original.light'\n};\nconst sect5Bg = {\n  dark: 'original.dark',\n  light: 'original.dark'\n};\nconst sect5Text = {\n  dark: 'original.light',\n  light: 'original.light'\n};\nconst sectBorder = {\n  dark: {\n    borderBottomColor: 'original.tertiary',\n    borderBottomWidth: '1px'\n  },\n  light: {}\n};\nconst gradientLight = {\n  backgroundColor: 'original.light'\n};\nconst gradientDark = {\n  background: 'rgb(22, 19, 24)',\n  background: 'linear-gradient(180deg, rgba(43, 60, 143, 1) 0%, rgba(42, 23, 74, 1) 50%, rgba(22, 19, 24, 1) 100%)'\n};\nconst gradient = {\n  dark: gradientDark,\n  light: gradientLight\n};\nconst commonDark = {\n  btnBorder: undefined,\n  btnVariant: 'solid',\n  btnHoverBg: 'whiteAlpha.500',\n  border: {\n    borderBottomColor: 'original.tertiary',\n    borderBottomWidth: '1px'\n  }\n};\nconst commonLight = {\n  btnVariant: 'outline',\n  btnBorder: 'black',\n  btnHoverBg: 'blackAlpha.50',\n  border: {}\n};\nconst variants = [{\n  dark: _objectSpread(_objectSpread({\n    bg: 'original.dark',\n    text: 'original.light',\n    btnText: 'original.light'\n  }, commonDark), {}, {\n    otherProps: {\n      pt: '320px'\n    }\n  }),\n  light: _objectSpread(_objectSpread({\n    bg: 'original.light',\n    text: 'original.dark',\n    btnText: 'original.dark'\n  }, commonLight), {}, {\n    otherProps: {\n      pt: '320px'\n    }\n  })\n}, {\n  dark: _objectSpread({\n    bg: 'original.dark',\n    text: 'original.light',\n    btnText: 'original.light'\n  }, commonDark),\n  light: _objectSpread({\n    bg: 'original.tertiary',\n    text: 'original.dark',\n    btnText: 'original.dark'\n  }, commonLight)\n}, {\n  dark: _objectSpread({\n    bg: 'original.dark',\n    text: 'original.light',\n    btnText: 'original.light'\n  }, commonDark),\n  light: _objectSpread({\n    bg: 'original.primary',\n    text: 'original.light',\n    btnText: 'original.light'\n  }, commonLight)\n}, {\n  dark: _objectSpread({\n    bg: 'original.dark',\n    text: 'original.light',\n    btnText: 'original.light'\n  }, commonDark),\n  light: _objectSpread({\n    bg: 'original.dark',\n    text: 'original.light',\n    btnText: 'original.light'\n  }, commonLight)\n}];\n\nconst useSectionStyle = idx => {\n  _s();\n\n  console.log(idx);\n  const {\n    colorMode\n  } = useColorMode();\n  return variants[idx][colorMode];\n};\n\n_s(useSectionStyle, \"2Uu86IH3do63pkN3s1ysdRMmJuc=\", false, function () {\n  return [useColorMode];\n});\n\nconst fetcher = async url => {\n  try {\n    const response = await fetch(url);\n    return await response.json();\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst Section = forwardRef(_c = _s2((_ref, ref) => {\n  _s2();\n\n  let {\n    items,\n    referenceItems,\n    index\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"items\", \"referenceItems\", \"index\"]);\n\n  const {\n    title,\n    subtitle,\n    body,\n    showButton,\n    buttonText,\n    buttonLink,\n    subsections\n  } = usePageContent(items, referenceItems);\n  const style = useSectionStyle(index);\n  return __jsx(Box, _extends({\n    ref: ref,\n    as: \"section\",\n    pb: 24,\n    overflow: \"hidden\",\n    bg: style.bg,\n    color: style.text\n  }, style.border, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 5\n    }\n  }), __jsx(Flex, {\n    h: \"100%\",\n    overflow: \"hidden\",\n    px: 24,\n    py: 16,\n    alignItems: \"center\",\n    flexDir: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }\n  }, title, subtitle, body, subsections, showButton && __jsx(Button, {\n    href: buttonLink,\n    leftIcon: \"chevron-right\",\n    color: style.btnText,\n    variant: style.btnVariant,\n    borderColor: style.btnBorder,\n    _hover: {\n      backgroundColor: style.btnHoverBg\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 11\n    }\n  }, buttonText)));\n}, \"apV6uh8arm35hoLSborkytpZspU=\", false, function () {\n  return [usePageContent, useSectionStyle];\n}));\n_c2 = Section;\n\nconst Cloud = ({\n  contentUrl,\n  content,\n  geoData\n}) => {\n  _s5();\n\n  var _locationsRaw$items,\n      _s3 = $RefreshSig$(),\n      _s4 = $RefreshSig$();\n\n  const sections = content.items;\n  const {\n    data: locationsRaw,\n    error\n  } = useSWR(contentUrl + '&content_type=orionLocation', fetcher);\n  const {\n    colorMode\n  } = useColorMode();\n  const {\n    colors\n  } = useTheme();\n  const mapColor = {\n    dark: colors.whiteAlpha[200],\n    light: colors.blackAlpha[200]\n  };\n  const markerColor = {\n    dark: colors.green[400],\n    light: colors.primary[400]\n  };\n  const [headerStyle, setHeaderStyle] = useRecoilState(_headerStyle);\n  const heroRef = useRef();\n  error && console.error(error);\n  const locations = locationsRaw === null || locationsRaw === void 0 ? void 0 : (_locationsRaw$items = locationsRaw.items) === null || _locationsRaw$items === void 0 ? void 0 : _locationsRaw$items.map(loc => loc.fields);\n  const sectionRefs = sections.map(_s3(() => {\n    _s3();\n\n    return useRef();\n  }, \"J9pzIsEOVEZ74gjFtMkCj+5Po7s=\"));\n  useEffect(() => {\n    setHeaderStyle({\n      bg: headerBg[colorMode],\n      color: sect1BtnText[colorMode]\n    });\n  }, [colorMode]);\n  useActiveSection(headerStyle, setHeaderStyle, {\n    bg: headerBg[colorMode],\n    color: sect1BtnText[colorMode]\n  }, [headerStyle, colorMode], sectionRefs.map(_s4((ref, i) => {\n    var _ref2;\n\n    _s4();\n\n    const idx = (_ref2 = i % (sections === null || sections === void 0 ? void 0 : sections.length)) !== null && _ref2 !== void 0 ? _ref2 : 1;\n    const style = useSectionStyle(idx);\n    return [ref, {\n      bg: style.bg,\n      color: style.text\n    }];\n  }, \"8c3ikFwVUbmOQxE/HKeNhpN5S0g=\", false, function () {\n    return [useSectionStyle];\n  })));\n  return __jsx(React.Fragment, null, __jsx(Box, {\n    ref: heroRef,\n    w: \"100%\",\n    minH: \"80vh\",\n    background: gradient[colorMode],\n    px: 24,\n    pt: 32,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }\n  }, __jsx(Flex, {\n    flexDir: \"column\",\n    alignItems: \"center\",\n    mt: [4, 4, 8],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 9\n    }\n  }, __jsx(Flex, {\n    textAlign: \"center\",\n    flexDir: \"column\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 11\n    }\n  }, __jsx(Heading, {\n    as: \"h1\",\n    fontSize: \"6xl\",\n    fontWeight: \"light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 13\n    }\n  }, \"Orion\"), __jsx(Heading, {\n    as: \"h2\",\n    fontSize: \"3xl\",\n    fontWeight: \"light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }\n  }, \"The Enterprise Native Cloud\"), __jsx(Heading, {\n    as: \"h3\",\n    mt: 8,\n    fontSize: \"lg\",\n    fontWeight: \"normal\",\n    maxW: [null, null, '75%'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }\n  }, \"Our strategically located data centers allow enterprises to substantially reduce latency between end-users and business applications.\"), __jsx(Flex, {\n    justifyContent: \"center\",\n    w: \"100%\",\n    flexWrap: \"wrap\",\n    mt: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }\n  }, __jsx(Button, {\n    mx: 4,\n    href: \"#\",\n    boxShadow: \"md\",\n    variantColor: heroBtn1Variant[colorMode],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 15\n    }\n  }, \"Find Your Edge Data Center\"), __jsx(Button, {\n    mx: 4,\n    href: \"#\",\n    color: sect1BtnText[colorMode],\n    boxShadow: \"md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 15\n    }\n  }, \"Learn More\")))), __jsx(USMap, {\n    maxW: \"75%\",\n    geoData: geoData,\n    locations: locations,\n    mapColor: mapColor[colorMode],\n    markerColor: markerColor[colorMode],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 9\n    }\n  })), sectionRefs.map((ref, i) => {\n    var _ref3;\n\n    return __jsx(Section, {\n      ref: ref,\n      items: sections[i],\n      referenceItems: content.includes,\n      index: (_ref3 = i % (sections === null || sections === void 0 ? void 0 : sections.length)) !== null && _ref3 !== void 0 ? _ref3 : 1,\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }\n    });\n  }));\n};\n\n_s5(Cloud, \"pweGIzLCvJL68zFqvMDpEAozW/E=\", false, function () {\n  return [useSWR, useColorMode, useTheme, useRecoilState, useActiveSection];\n});\n\n_c3 = Cloud;\nexport var __N_SSG = true;\nexport default Cloud;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Section$forwardRef\");\n$RefreshReg$(_c2, \"Section\");\n$RefreshReg$(_c3, \"Cloud\");","map":{"version":3,"sources":["/Users/ml/dev/stellar/site/pages/cloud.js"],"names":["React","useRecoilState","useEffect","useRef","forwardRef","useSWR","Box","Flex","Grid","Heading","Text","useColorMode","useTheme","USMap","VMware","Link","Br","Button","useActiveSection","usePageContent","_headerStyle","includes","heroBtn1Variant","dark","light","headerBg","sect1Bg","sect1Text","sect1BtnText","sect2Bg","sect2Text","sect3Bg","sect3Text","sect4Bg","sect4Text","sect5Bg","sect5Text","sectBorder","borderBottomColor","borderBottomWidth","gradientLight","backgroundColor","gradientDark","background","gradient","commonDark","btnBorder","undefined","btnVariant","btnHoverBg","border","commonLight","variants","bg","text","btnText","otherProps","pt","useSectionStyle","idx","console","log","colorMode","fetcher","url","response","fetch","json","err","error","Section","ref","items","referenceItems","index","props","title","subtitle","body","showButton","buttonText","buttonLink","subsections","style","Cloud","contentUrl","content","geoData","sections","data","locationsRaw","colors","mapColor","whiteAlpha","blackAlpha","markerColor","green","primary","headerStyle","setHeaderStyle","heroRef","locations","map","loc","fields","sectionRefs","color","i","length"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { useRecoilState } from 'recoil';\nimport { useEffect, useRef, forwardRef } from 'react';\nimport useSWR from 'swr';\nimport { Box, Flex, Grid, Heading, Text } from '@chakra-ui/core';\nimport { useColorMode, useTheme } from '../context';\nimport { USMap } from '../components/USMap';\nimport { VMware } from '../components/Icons';\nimport { Link } from '../components/Link';\nimport { Br, Button } from '../components';\nimport { useActiveSection, usePageContent } from '../hooks';\nimport { _headerStyle } from '../state/atoms';\nimport { includes } from 'lodash';\n\nconst heroBtn1Variant = { dark: 'light', light: 'primary' };\n\nconst headerBg = { dark: 'transparent', light: 'original.light' };\nconst sect1Bg = { dark: 'original.dark', light: 'original.light' };\nconst sect1Text = { dark: 'original.light', light: 'original.dark' };\nconst sect1BtnText = { dark: 'original.light', light: 'original.dark' };\n\nconst sect2Bg = { dark: 'original.dark', light: 'original.tertiary' };\nconst sect2Text = { dark: 'original.light', light: 'original.dark' };\n\nconst sect3Bg = { dark: 'original.dark', light: 'original.primary' };\nconst sect3Text = { dark: 'original.light', light: 'original.light' };\n\nconst sect4Bg = { dark: 'original.dark', light: 'original.secondary' };\nconst sect4Text = { dark: 'original.light', light: 'original.light' };\n\nconst sect5Bg = { dark: 'original.dark', light: 'original.dark' };\nconst sect5Text = { dark: 'original.light', light: 'original.light' };\n\nconst sectBorder = {\n  dark: { borderBottomColor: 'original.tertiary', borderBottomWidth: '1px' },\n  light: {},\n};\n\nconst gradientLight = { backgroundColor: 'original.light' };\n\nconst gradientDark = {\n  background: 'rgb(22, 19, 24)',\n  background:\n    'linear-gradient(180deg, rgba(43, 60, 143, 1) 0%, rgba(42, 23, 74, 1) 50%, rgba(22, 19, 24, 1) 100%)',\n};\n\nconst gradient = { dark: gradientDark, light: gradientLight };\n\nconst commonDark = {\n  btnBorder: undefined,\n  btnVariant: 'solid',\n  btnHoverBg: 'whiteAlpha.500',\n  border: { borderBottomColor: 'original.tertiary', borderBottomWidth: '1px' },\n};\n\nconst commonLight = {\n  btnVariant: 'outline',\n  btnBorder: 'black',\n  btnHoverBg: 'blackAlpha.50',\n  border: {},\n};\n\nconst variants = [\n  {\n    dark: {\n      bg: 'original.dark',\n      text: 'original.light',\n      btnText: 'original.light',\n      ...commonDark,\n      otherProps: { pt: '320px' },\n    },\n    light: {\n      bg: 'original.light',\n      text: 'original.dark',\n      btnText: 'original.dark',\n      ...commonLight,\n      otherProps: { pt: '320px' },\n    },\n  },\n  {\n    dark: {\n      bg: 'original.dark',\n      text: 'original.light',\n      btnText: 'original.light',\n      ...commonDark,\n    },\n    light: {\n      bg: 'original.tertiary',\n      text: 'original.dark',\n      btnText: 'original.dark',\n      ...commonLight,\n    },\n  },\n  {\n    dark: {\n      bg: 'original.dark',\n      text: 'original.light',\n      btnText: 'original.light',\n      ...commonDark,\n    },\n    light: {\n      bg: 'original.primary',\n      text: 'original.light',\n      btnText: 'original.light',\n      ...commonLight,\n    },\n  },\n  {\n    dark: {\n      bg: 'original.dark',\n      text: 'original.light',\n      btnText: 'original.light',\n      ...commonDark,\n    },\n    light: {\n      bg: 'original.dark',\n      text: 'original.light',\n      btnText: 'original.light',\n      ...commonLight,\n    },\n  },\n];\nconst useSectionStyle = idx => {\n  console.log(idx);\n  const { colorMode } = useColorMode();\n  return variants[idx][colorMode];\n};\n\nconst fetcher = async url => {\n  try {\n    const response = await fetch(url);\n    return await response.json();\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst Section = forwardRef(({ items, referenceItems, index, ...props }, ref) => {\n  const { title, subtitle, body, showButton, buttonText, buttonLink, subsections } = usePageContent(\n    items,\n    referenceItems,\n  );\n  const style = useSectionStyle(index);\n\n  return (\n    <Box\n      ref={ref}\n      as=\"section\"\n      pb={24}\n      overflow=\"hidden\"\n      bg={style.bg}\n      color={style.text}\n      {...style.border}\n      {...props}>\n      <Flex h=\"100%\" overflow=\"hidden\" px={24} py={16} alignItems=\"center\" flexDir=\"column\">\n        {title}\n        {subtitle}\n        {body}\n        {subsections}\n        {showButton && (\n          <Button\n            href={buttonLink}\n            leftIcon=\"chevron-right\"\n            color={style.btnText}\n            variant={style.btnVariant}\n            borderColor={style.btnBorder}\n            _hover={{\n              backgroundColor: style.btnHoverBg,\n            }}>\n            {buttonText}\n          </Button>\n        )}\n      </Flex>\n    </Box>\n  );\n});\n\nconst Cloud = ({ contentUrl, content, geoData }) => {\n  const sections = content.items;\n  const { data: locationsRaw, error } = useSWR(contentUrl + '&content_type=orionLocation', fetcher);\n  const { colorMode } = useColorMode();\n  const { colors } = useTheme();\n  const mapColor = { dark: colors.whiteAlpha[200], light: colors.blackAlpha[200] };\n  const markerColor = { dark: colors.green[400], light: colors.primary[400] };\n  const [headerStyle, setHeaderStyle] = useRecoilState(_headerStyle);\n  const heroRef = useRef();\n  error && console.error(error);\n  const locations = locationsRaw?.items?.map(loc => loc.fields);\n\n  const sectionRefs = sections.map(() => {\n    return useRef();\n  });\n\n  useEffect(() => {\n    setHeaderStyle({ bg: headerBg[colorMode], color: sect1BtnText[colorMode] });\n  }, [colorMode]);\n\n  useActiveSection(\n    headerStyle,\n    setHeaderStyle,\n    { bg: headerBg[colorMode], color: sect1BtnText[colorMode] },\n    [headerStyle, colorMode],\n    sectionRefs.map((ref, i) => {\n      const idx = i % sections?.length ?? 1;\n      const style = useSectionStyle(idx);\n      return [ref, { bg: style.bg, color: style.text }];\n    }),\n  );\n  return (\n    <>\n      <Box ref={heroRef} w=\"100%\" minH=\"80vh\" background={gradient[colorMode]} px={24} pt={32}>\n        <Flex flexDir=\"column\" alignItems=\"center\" mt={[4, 4, 8]}>\n          <Flex textAlign=\"center\" flexDir=\"column\" alignItems=\"center\">\n            <Heading as=\"h1\" fontSize=\"6xl\" fontWeight=\"light\">\n              Orion\n            </Heading>\n            <Heading as=\"h2\" fontSize=\"3xl\" fontWeight=\"light\">\n              The Enterprise Native Cloud\n            </Heading>\n            <Heading as=\"h3\" mt={8} fontSize=\"lg\" fontWeight=\"normal\" maxW={[null, null, '75%']}>\n              Our strategically located data centers allow enterprises to substantially reduce\n              latency between end-users and business applications.\n            </Heading>\n            <Flex justifyContent=\"center\" w=\"100%\" flexWrap=\"wrap\" mt={8}>\n              <Button mx={4} href=\"#\" boxShadow=\"md\" variantColor={heroBtn1Variant[colorMode]}>\n                Find Your Edge Data Center\n              </Button>\n              <Button mx={4} href=\"#\" color={sect1BtnText[colorMode]} boxShadow=\"md\">\n                Learn More\n              </Button>\n            </Flex>\n          </Flex>\n        </Flex>\n        <USMap\n          maxW=\"75%\"\n          geoData={geoData}\n          locations={locations}\n          mapColor={mapColor[colorMode]}\n          markerColor={markerColor[colorMode]}\n        />\n      </Box>\n      {sectionRefs.map((ref, i) => {\n        return (\n          <Section\n            ref={ref}\n            items={sections[i]}\n            referenceItems={content.includes}\n            index={i % sections?.length ?? 1}\n            key={i}\n          />\n        );\n      })}\n    </>\n  );\n};\n\nexport default Cloud;\n\nexport const getStaticProps = async ctx => {\n  let contentUrl = '';\n  let geoData = {};\n  let content = {};\n  contentUrl = [\n    process.env.CONTENTFUL_BASEURL,\n    '/',\n    process.env.CONTENTFUL_SPACE,\n    '/entries',\n    '?access_token=',\n    process.env.CONTENTFUL_KEY,\n  ].join('');\n\n  try {\n    const geoRes = await fetch('https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json');\n    const contentRes = await fetch(\n      [\n        contentUrl,\n        '&content_type=pageContent',\n        '&fields.page[in]=cloud',\n        '&order=fields.sortWeight',\n      ].join(''),\n    );\n    geoData = await geoRes.json();\n    content = await contentRes.json();\n  } catch (err) {\n    console.error(err);\n  }\n  return { props: { geoData, contentUrl, content } };\n};\n"]},"metadata":{},"sourceType":"module"}